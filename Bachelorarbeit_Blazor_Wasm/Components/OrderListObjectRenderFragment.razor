@using Microsoft.AspNetCore.Components.Rendering

@code {

    public static RenderFragment<Order> OrderCard => (order) => 
    @<div>
         <h3>OrderListObjectRenderFragment</h3>
         <div id="@order.OrderGuid" class="card mx-auto w-75 shadow-sm">
             <div class="card-header bg-primary text-white">
                 <h3 class="card-title mb-0">Order @order.OrderGuid</h3>
             </div>
             <div class="card-body">
                 <table class="table table-striped">
                     <tbody>
                         <tr><th>Customer</th><td>@order.Customer.FirstName @order.Customer.LastName</td></tr>
                         <tr>
                             <th>Address</th>
                             <td>
                                 @order.Customer.Address.Street @order.Customer.Address.StreetNumber,
                                 @order.Customer.Address.City, @order.Customer.Address.ZipCode, @order.Customer.Address.Country
                             </td>
                         </tr>
                         <tr><th>Order Date</th><td>@order.OrderDate.ToString("dd. MM. yyyy")</td></tr>
                         <tr><th>Status</th><td>@order.OrderStatus</td></tr>
                         <tr><th>PhoneNumber</th><td>@order.Customer.PhoneNumber</td></tr>
                         <tr><th>Email</th><td>@order.Customer.Email</td></tr>
                         <tr><th>IBAN</th><td>@order.Customer.IBAN</td></tr>
                     </tbody>
                 </table>

                 <h4 class="mt-4">Items</h4>
                 <table class="table table-bordered">
                     <thead class="table-light">
                         <tr>
                             <th>Name</th>
                             <th>Material</th>
                             <th>Color</th>
                             <th>Category</th>
                             <th>Quantity</th>
                             <th>Price</th>
                             <th>Total</th>
                         </tr>
                     </thead>
                     <tbody>
                         @foreach (var item in order.OrderItems)
                         {
                             <tr>
                                 <td>@item.Item.Name</td>
                                 <td>@item.Item.ProductMaterial</td>
                                 <td>@item.Item.Color</td>
                                 <td>@item.Item.Category</td>
                                 <td>@item.Quantity</td>
                                 <td>@item.Item.Price.ToString("C")</td>
                                 <td>@((item.Quantity * item.Item.Price).ToString("C"))</td>
                             </tr>
                         }
                     </tbody>
                 </table>
             </div>
         </div>
    </div>;

}
